<!DOCTYPE html>

<html>
<head>
    
  <title>My page</title>
   <style>
#zombie_map {
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;  
    background-color: grey;
}
</style>
</head>
<body>
    My zombie map
<div id="zombie_map">
    
    
    
  <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCCz4tbgguS3jeg1dpn2HwErkPQYtOQCBA&callback=initMap">
      
  
  </script>
    <script>
    var zombie_map;
    var data = `43.66899245966385 -79.82703921390015 crossbow.png
                43.66887605045649 -79.82573029590088 crossbow.png
                43.667968050890565 -79.82559082103211 zombie.png
                43.66854234281076 -79.8249578197046 safe.png
                43.66827847963784 -79.82661006045777 zombie.png
                43.66808446185892 -79.82732889247376 slurp-juice.png
                43.66741703591011 -79.82622382235962 zombie.png
                43.66778955363388 -79.82467886996704 safe.png
`;
    var markers = data.split("\n");
    var all_markers = [];
    
    
    function initMap() {

            zombie_map = new google.maps.Map(document.getElementById('zombie_map'), {
            zoom: 16,
            center: {lat: 43.668657, lng: -79.827224}
        });
            if (navigator.geolocation) {
        navigator.geolocation.watchPosition(set_my_position);
    }
    else {
        alert("Geolocation doesn't work in your browser");
    }

        for (var i = 0; i < markers.length; i++ ) {
            
            var marker_data = markers[i].trim();
            marker_data = marker_data.split(" ");
            var latitude = marker_data[0];
            var longitude = marker_data[1];
            var emoji = marker_data[2];
            var marker_position = new google.maps.LatLng(latitude, longitude);
            var marker = new google.maps.Marker({
                position: marker_position,
                icon: emoji,
                map: zombie_map
            });
            all_markers.push(markers);

            
        }
    }
        function set_my_position(position) {
            var pos = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
            var marker = new google.maps.Marker({
                position: pos,
                icon: "player.png",
                map: zombie_map
            });
        }

     
</script>
    
    </div>
    
</body>
</html>
